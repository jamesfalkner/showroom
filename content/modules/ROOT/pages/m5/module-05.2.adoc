:imagesdir: ../../assets/images


== Developer Activity: Updates to Production Argo Manifests
* In the preview section, we noted that a PR has been raised on the Prod Argo manifest to update the prod image
* On RHDH, in the component overview page of parasol-store, you can view the *Deployment Summary* section
+
image:m5/parasol-store-deployment-summary.png[]
* Click on the Revision link shown `parasol-store-prod`. This will take you to the `parasol-store-manifests` repo showing the commits. 
* From the left-hand navigation, access the _Merge requests_ menu
+
image:m5/parasol-store-merge-menu.png[]
* You can see this Merge Request created for the parasol-store-manifests repo. You can also click https://gitlab-gitlab.{openshift_cluster_ingress_domain}/parasol/parasol-store-manifests/-/merge_requests[here^, window="_gitlab"] to view.
+
image:m5/parasol-store-prod-pr.png[]
* Click on the _Changes_ tab and you can see that the change is to the `value-prod.yaml` file, and that the image's is now updated to match the same image tag we notice for the dev & staging deployments
+
image:m5/parasol-store-prod-pr-changes.png[]
* You can now assume the persona of a release manager. Navigate back to the _Overview_ tab and proceed to _Merge_ it.
+
image:m5/parasol-store-prod-pr-merge.png[width=70%]
* Navigate to {product_name_rhdh} -> parasol-store component, and from the _CD_ tab, access the `parasol-store-prod` ArgoCD app by clicking on the arrow.
+
image:m5/parasol-store-go2argo.png[]

* Click on the _Refresh_ button. 
+
image:m5/parasol-store-prod-argo-sync-start.png[width=70%]
* The Argo app will begin Sync-ing.
+
image:m5/parasol-store-prod-argo-sync-progress.png[width=70%]
* In less than a minute, the new image will be deployed on Prod as well. 
+
image:m5/parasol-store-prod-argo-sync-done.png[width=70%]
+
NOTE: In ArgoCD, open the *parasol-store* deployment, and you can validate that the image deployed on Prod is the same image as in Dev and Staging that we saw earlier.


== Conclusion

A developer can easily setup a isolated dev environment, develop and test their code, and then the code can be progressed till Production with all the necessary guardrails in place.