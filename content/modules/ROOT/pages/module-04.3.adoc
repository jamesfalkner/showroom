:imagesdir: ../assets/images


= Module 4.3: Setup Developer Inner-Loop

include::style.adoc[]

== Platform Engineer: Onboard parasol-store Dev Template

. To help developers to be able to accelerate development through RHDH, the PE create a new template with  parasol-store-dev-template.
. Click on *Create* and Regiser Existing Component with this template
+
+
[source,bash,role=execute,subs="attributes"]
----
https://gitlab-gitlab.{openshift_cluster_ingress_domain}/rhdh/parasol-store-dev-template/-/blob/main/template.yaml
----


== App Developer: Onboard parasol-store Dev Template


* Creates a branch of `parasol-store`  on gitlab
https://gitlab-gitlab.{openshift_cluster_ingress_domain}/parasol/parasol-store with name of the branch as `my-feature-branch`

image:./m4/create-branch.png[]

image:./m4/create-branch-name.png[]

* Launch `parasol-store-dev-template` with the branch name; provided with a namespace - `parasol-store` 
* In Step 1: Provide Information for the sandbox deployment
** Parasol Store Development - provide feature branch name my-feature-branch
* In Step 2: Provide database information
** Keep all the fields as it is - no need to make changes

* Click on *Review*, and proceed to *Create*

* Open component

image:./m4/parasol-branch-component.png[]
** You can see under the *CI* tab, a pipeline being run

image:./m4/parasol-branch-first-pipeline.png[]

image:./m4/parasol-branch-first-pipeline-success.png[]

** You can see under the *Topology* tab, that the pod is running successfully

* View the deployment on OpenShift: https://console-openshift-console.{openshift_cluster_ingress_domain}/k8s/ns/parasol-store-my-feature-branch/apps~v1~Deployment

image:./m4/parasol-branch-deployment1.png[]

* Makes a change  - push to gitlab; You will see a new pipeline triggered

* The first pipeline was triggered when you registered using the s.w template. and the next is by git commit

* You can view the pipeline on OpenShift as well https://console-openshift-console.{openshift_cluster_ingress_domain}/pipelines/ns/parasol-store-my-feature-branch 

* Once you are happy with the changes, you are now ready to create a merge request to the main branch.
* This is the end of innerloop



